{"version":3,"file":"main-BJXI5dQv.js","sources":["../../src/img/star.svg","../../src/img/start-arrow.svg","../../src/img/run-dark.png","../../src/img/Star-dark.svg","../../src/main.js"],"sourcesContent":["export default \"data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.53234%200.690968C5.83169%20-0.230342%207.1351%20-0.230343%207.43445%200.690968L8.27951%203.29178C8.41338%203.7038%208.79734%203.98276%209.23057%203.98276H11.9652C12.9339%203.98276%2013.3367%205.22238%2012.553%205.79178L10.3406%207.39917C9.99014%207.65381%209.84348%208.10518%209.97735%208.5172L10.8224%2011.118C11.1218%2012.0393%2010.0673%2012.8055%209.28357%2012.2361L7.07118%2010.6287C6.7207%2010.374%206.2461%2010.374%205.89561%2010.6287L3.68323%2012.2361C2.89952%2012.8055%201.84504%2012.0393%202.14439%2011.118L2.98944%208.51721C3.12332%208.10518%202.97666%207.65381%202.62617%207.39917L0.41379%205.79178C-0.369924%205.22238%200.0328507%203.98276%201.00157%203.98276H3.73623C4.16946%203.98276%204.55341%203.7038%204.68729%203.29178L5.53234%200.690968Z'%20fill='%23EEA10C'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='15'%20height='15'%20viewBox='0%200%2015%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.15039%2013.6499L13.6504%207.1499M13.6504%207.1499L7.15039%200.649902M13.6504%207.1499H0.650391'%20stroke='%23242424'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUaSURBVHgBxVk7SFxBFL37dgUbxV8RbLKLglZmA/ZZOysxlQkWAbEQLIyFrT5LsTDpDAgJiIVVEguDlQabFEJesBIUTSMERDZYxW/uGd6Y2bfvP/PMgXXf1z135tzP3MmRARSLxZaGhobh29vbci6Xe8yf8t3dXQvfapHP8LUTvobPDz51bm5udk4YpIkcpQRIFwqFKT6suJ80cNigtzrGJDZAIf6alBHWBRvygQ2ZT2pIIgO6u7vnyDBxH9iHh4fzcR+OZUBvb2/x+vr6Ix+W6QEAX+HZGIgzG1bUA11dXa+Y/Hd6IPIAO3yRZfqdf3s46tl82E1Ihv/ZGz5spIdHI//2i7a2Njo/P/8a9FCgAa7ebfr/qIQZ4Sshd+psygg9PT20srJCjuPQ5uYmTUxMRL1iQ8p+N+pmAA7LTvSFMpJNZ2cnra6uUqlUEudNTU3U399PFxcXtL+/H/gey6nS3Ny8XmWo1+tmgL1/mzIMk0NDQ4K0F6Ojo1GvIv989F6sMQC659EvUobADCS57kGZOdrqhXsDIB0ypHtoemZmhgYGBupGe29vz/edoOs+mEI1IE/ufaC1tRXhUjvWQyIg39fXR4ODgzQ2NiY0Lkd4e3u75hyA/icnJ8V3DDRalvWHo9IOTkQmdjPtMRkAoot0Sj+t4zqMODg4ENHo9PSU1tbW4pKXqDLfEifqagFn7LgVMgCMKsgDi4uLQhY4x4xIY/CNWcK98fFxSgk4NGoyW/gAO+4UGYCM53KUMbog6jcTMEwamxLP8MdynddInSMJgbyURFiS8t6D0+/u7ooZi4EKnNkyJR/8uHTMjY0N8Y1zyCUIMFjODoxZWloS5zFygkA+nx8uuMtA0oUkL2UjSUUBZL2kZ2dnKSbKOU4MyLwVMgDMAshDPjAIdU4QZBRSAeOnp6fFvZj4DCcukSGo2g+TDiQmZSYB8ohKCcgj+DyBAY8pA4QZsLy8LAyQxmLWRkZGhBFJwNJvKVAGAPmg2gZkJVFoHc8hkaWEeQNAKMx5MfoSkJwuIKEqGQSiSdDoqxHKFGDAbzIEEA+L4QnCYyygewEDHDIEJKIwaJYOdWAn/mnBCjIAOK4a16Fvr3Oq2dYEmLuT7+joeMTHkf2XMIDQwsJCDTHU91tbW+JYHXmshbFOUHOGBt5ZV1dXn0gDslxWHReRRoZKHKO0VoFnsW6IuYwMBJrCoghKWk6ANMoGvwU6iCMpeUdXtlLU52GYRg5wuIf6VOaBr1EGgAAIB3UVVFJ+0sD7fsamBdry+BYz4LbMsaQMbKegMAuachBGaQBd+8V5v9GHtNSklhTukvJEzADWliwjWDTn9zB+2Dt6UaQlYLQ38uiSx16C7FzfLwSiZgEJCvIBcfx4nIzq56wwGCWzDuToE3n2B9ym0RwZAEZ8fX29hjxKZZTMmuFznp3Xlic1nTn3hpHM7A2tcrGiQx5JVyUP1PVGWUbPyUCBp2peLlZ0og44YdfGe7GuO312dlZtb2//RZrZ+fLyUnTnMOIYed0dVR79l8fHx9+81wNX8yb9wQDmvdKRCNyhQe+Rd0ZgYIX+LwLJA5H9FOzWcNn6nrLdWvVDlWUzfXR09CHsodjbrNj4yHrvQIHDsf55nG3WpBvdNmXrF4h+b8Mk40Xilpw7GzbPxisyB0GcR/0NypokL6buKbqGVNgQtLmfUDqgCt5JQ1xCvylK/4xx+6zodBeptmEGcmgeOGIhblkOFlJpSav4CyiUp4TzBLMVAAAAAElFTkSuQmCC\"","export default \"data:image/svg+xml,%3csvg%20width='19'%20height='18'%20viewBox='0%200%2019%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.38586%200.690968C8.68521%20-0.230343%209.98862%20-0.230344%2010.288%200.690967L11.8066%205.36473C11.9404%205.77675%2012.3244%206.05571%2012.7576%206.05571H17.6719C18.6406%206.05571%2019.0434%207.29533%2018.2597%207.86473L14.284%2010.7533C13.9335%2011.0079%2013.7868%2011.4593%2013.9207%2011.8713L15.4393%2016.5451C15.7386%2017.4664%2014.6842%2018.2325%2013.9004%2017.6631L9.9247%2014.7746C9.57421%2014.5199%209.09962%2014.5199%208.74913%2014.7746L4.77339%2017.6631C3.98968%2018.2325%202.9352%2017.4664%203.23455%2016.5451L4.75314%2011.8713C4.88702%2011.4593%204.74036%2011.0079%204.38987%2010.7533L0.414135%207.86473C-0.369579%207.29533%200.0331967%206.05571%201.00192%206.05571H5.9162C6.34943%206.05571%206.73339%205.77675%206.86726%205.36473L8.38586%200.690968Z'%20fill='%23F4F4F4'%20fill-opacity='0.2'/%3e%3c/svg%3e\"","// import { Notyf } from 'notyf';\n\nimport starUrl from './img/star.svg';\nimport startArrowUrl from './img/start-arrow.svg';\nimport runDarkUrl from './img/run-dark.png';\nimport starDarkUrl from './img/Star-dark.svg';\n\nfunction handleFetchResponse(response) {\n  if (!response.ok) {\n    throw new Error('Халепа');\n  }\n  return response.json();\n}\n\nfunction getToday() {\n  const date = new Date();\n  return date.toISOString().slice(0, 10);\n}\n\nasync function setQuote() {\n  const quoteText = document.querySelector('.quote-text');\n  const quoteAuthor = document.querySelector('.quote-author');\n  const today = getToday();\n\n  let quoteObj = null;\n  try {\n    const raw = localStorage.getItem('quote');\n    quoteObj = raw ? JSON.parse(raw) : null;\n  } catch (err) {\n    quoteObj = null;\n  }\n\n  if (quoteObj && quoteObj.date === today) {\n    quoteText.textContent = quoteObj.text;\n    quoteAuthor.textContent = quoteObj.author;\n    return;\n  }\n\n  try {\n    const response = await fetch('https://your-energy.b.goit.study/api/quote');\n    const data = await handleFetchResponse(response);\n\n    if (data) {\n      quoteText.textContent = data.quote;\n      quoteAuthor.textContent = data.author;\n\n      const newQuote = { text: data.quote, author: data.author, date: today };\n      try {\n        localStorage.setItem('quote', JSON.stringify(newQuote));\n      } catch (err) {\n        // Ignore storage errors (e.g. quota)\n      }\n      return;\n    }\n\n    // If API returns unexpected data, fall back to stored quote if present\n    if (quoteObj) {\n      quoteText.textContent = quoteObj.text;\n      quoteAuthor.textContent = quoteObj.author;\n    }\n  } catch (err) {\n    if (quoteObj) {\n      quoteText.textContent = quoteObj.text;\n      quoteAuthor.textContent = quoteObj.author;\n    }\n  }\n}\n\nasync function setExercisesCardsAndGetResponse(\n  limit = 12,\n  filter = 'Muscles',\n  page = 1\n) {\n  try {\n    const response = await fetch(\n      `https://your-energy.b.goit.study/api/filters?limit=${limit}&filter=${filter}&page=${page}`\n    );\n\n    if (!response.ok) {\n      throw new Error('Server error');\n    }\n\n    const data = await response.json();\n\n    const cards = document.querySelector('.exercises__cards');\n    cards.innerHTML = '';\n    const fragment = document.createDocumentFragment();\n\n    for (let item of data.results) {\n      const card = document.createElement('li');\n      card.classList.add('exercises__card');\n      card.style.setProperty('--bg-img', `url(${item.imgURL})`);\n      card.dataset.name = item.name;\n      card.dataset.filter = item.filter;\n\n      const h3 = document.createElement('h3');\n      h3.classList.add('exercises__card-name');\n      h3.textContent = item.name[0].toUpperCase() + item.name.substring(1);\n      card.appendChild(h3);\n\n      const p = document.createElement('p');\n      p.classList.add('exercises__card-filter');\n      p.textContent = item.filter;\n      card.appendChild(p);\n\n      fragment.appendChild(card);\n    }\n    cards.appendChild(fragment);\n\n    paginationState.page = data.page;\n    paginationState.perPage = data.perPage;\n    paginationState.totalPages = data.totalPages;\n\n    setPagination(paginationState);\n\n    return data;\n  } catch (err) {\n    console.log('Халепа');\n  }\n}\n\nfunction openMobMenu(mobMenuBtn) {\n  mobMenuBtn.removeEventListener('click', mobMenuOpenHandler);\n\n  closeMenuBtn.addEventListener('click', closeMobMenu);\n\n  const menu = document.querySelector('.mobile-menu-wrapper');\n  menu.hidden = !menu.hidden;\n}\n\nfunction closeMobMenu() {\n  closeMenuBtn.removeEventListener('click', mobMenuCloseHandler);\n\n  mobMenuBtn.addEventListener('click', closeMobMenu);\n\n  const menu = document.querySelector('.mobile-menu-wrapper');\n  menu.hidden = !menu.hidden;\n}\n\nfunction mobMenuOpenHandler() {\n  openMobMenu(mobMenuBtn);\n}\n\nfunction mobMenuCloseHandler() {\n  closeMobMenu(closeMenuBtn);\n}\n\nfunction handleFilterClick(event) {\n  const target = event.target;\n\n  if (target.dataset.filter !== currentFilter) {\n    currentFilter = target.dataset.filter;\n\n    document\n      .querySelector('.exercises__filter--active')\n      .classList.toggle('exercises__filter--active');\n    target.classList.toggle('exercises__filter--active');\n  }\n\n  if (currentExercisesPageState === 'workout') {\n    toggleExercisesSection();\n  }\n\n  setExercisesCardsAndGetResponse(cardsLimit, currentFilter, 1);\n}\n\nasync function subscribe(validAddress) {\n  try {\n    const response = await fetch(\n      'https://your-energy.b.goit.study/api/subscription',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email: validAddress }),\n      }\n    );\n\n    if (response.status === 409) {\n      console.log('Ви вже підписані!');\n      return;\n    }\n\n    if (!response.ok) {\n      throw new Error('Server error');\n    }\n\n    const data = await response.json();\n    console.log(data.message);\n  } catch (err) {\n    console.log('Помилка зʼєднання з сервером');\n  }\n}\n\nfunction setPagination({ totalPages, page }) {\n  let btns = document.querySelector('.exercises__pagination-btns');\n\n  const container = document.createDocumentFragment();\n\n  btns.innerHTML = '';\n\n  if (totalPages < 2) return;\n\n  page = Number(page);\n\n  let startPage, endPage;\n\n  // Визначаємо вікно з 3 кнопок\n  if (totalPages <= 3) {\n    // Якщо сторінок <=3, показуємо всі\n    startPage = 1;\n    endPage = totalPages;\n  } else {\n    if (page <= 2) {\n      // Ближче до початку\n      startPage = 1;\n      endPage = 3;\n    } else if (page >= totalPages - 1) {\n      // Ближче до кінця\n      startPage = totalPages - 2;\n      endPage = totalPages;\n    } else {\n      // Поточна сторінка посередині\n      startPage = page - 1;\n      endPage = page + 1;\n    }\n  }\n\n  // Ліві стрілки\n  if (totalPages > 3) {\n    const leftDoubleArrow = document.createElement('button');\n    const leftMonoArrow = document.createElement('button');\n\n    leftDoubleArrow.textContent = '«';\n    leftDoubleArrow.type = 'button';\n    leftDoubleArrow.dataset.pagValue = 'dlt';\n    leftDoubleArrow.classList.add('exercises__pagination-btn');\n    leftDoubleArrow.classList.add('exercises__pagination-arrow-btn');\n\n    leftMonoArrow.textContent = '‹';\n    leftMonoArrow.type = 'button';\n    leftMonoArrow.dataset.pagValue = 'lt';\n    leftMonoArrow.classList.add('exercises__pagination-btn');\n    leftMonoArrow.classList.add('exercises__pagination-arrow-btn');\n\n    container.appendChild(leftDoubleArrow);\n    container.appendChild(leftMonoArrow);\n  }\n\n  // Ліві три крапки\n  if (startPage > 1) {\n    const leftDots = document.createElement('div');\n    leftDots.textContent = '...';\n    leftDots.classList.add('exercises__pagination-btn');\n    container.append(leftDots);\n  }\n\n  // Кнопки сторінок\n  for (let i = startPage; i <= endPage; i++) {\n    const btn = document.createElement('button');\n\n    btn.textContent = i;\n    btn.type = 'button';\n    btn.dataset.pagValue = i;\n    btn.classList.add('exercises__pagination-btn');\n\n    if (i === page) {\n      btn.classList.add('exercises__pagination-btn--active');\n    }\n\n    container.append(btn);\n  }\n\n  // Праві три крапки\n  if (endPage < totalPages) {\n    const rightDots = document.createElement('div');\n    rightDots.textContent = '...';\n    rightDots.classList.add('exercises__pagination-btn');\n    container.append(rightDots);\n  }\n\n  // Праві стрілки\n  if (totalPages > 3) {\n    const rightMonoArrow = document.createElement('button');\n    const rightDoubleArrow = document.createElement('button');\n\n    rightDoubleArrow.textContent = '»';\n    rightDoubleArrow.type = 'button';\n    rightDoubleArrow.dataset.pagValue = 'drt';\n    rightDoubleArrow.classList.add('exercises__pagination-btn');\n    rightDoubleArrow.classList.add('exercises__pagination-arrow-btn');\n\n    rightMonoArrow.textContent = '›';\n    rightMonoArrow.type = 'button';\n    rightMonoArrow.dataset.pagValue = 'rt';\n    rightMonoArrow.classList.add('exercises__pagination-btn');\n    rightMonoArrow.classList.add('exercises__pagination-arrow-btn');\n\n    container.appendChild(rightMonoArrow);\n    container.appendChild(rightDoubleArrow);\n  }\n\n  btns.appendChild(container);\n}\n\nfunction onPaginationClick(event) {\n  handlePagination(event.target.dataset.pagValue);\n}\n\n// Керує кнопками пагінації\nfunction handlePagination(pagValue) {\n  // Якщо натиснуто кнопку з номером сторінки\n  if (Number(pagValue)) {\n    paginationState.page = Number(pagValue);\n  } else {\n    if (pagValue === 'dlt') {\n      paginationState.page = 1;\n    } else if (pagValue === 'lt' && paginationState.page - 1 >= 1) {\n      paginationState.page -= 1;\n    } else if (\n      pagValue === 'rt' &&\n      paginationState.page + 1 <= paginationState.totalPages\n    ) {\n      paginationState.page += 1;\n    } else if (pagValue === 'drt') {\n      paginationState.page = paginationState.totalPages;\n    }\n  }\n\n  if (currentExercisesPageState === 'filters') {\n    setExercisesCardsAndGetResponse(\n      paginationState.perPage,\n      currentFilter,\n      paginationState.page\n    );\n  } else if (currentExercisesPageState === 'workout') {\n    setWorkoutCardsAndGetResponse(\n      currentCard,\n      paginationState.perPage,\n      paginationState.page\n    );\n  }\n\n  setPagination(paginationState);\n}\n\nasync function setWorkoutCardsAndGetResponse(name, limit = 12, page = 1) {\n  const keyword = document\n    .querySelector('.exercises__search-input')\n    .value.trim()\n    .toLowerCase();\n\n  const url = new URL('https://your-energy.b.goit.study/api/exercises');\n\n  const params = {\n    page,\n    limit,\n    ...(currentFilter === 'Muscles' && { muscles: name }),\n    ...(currentFilter === 'Equipment' && { equipment: name }),\n    ...(currentFilter === 'Body%20parts' && { bodypart: name }),\n    keyword,\n  };\n\n  url.search = new URLSearchParams(params).toString();\n\n  try {\n    const response = await fetch(url.toString());\n    const data = await response.json();\n\n    setWorkoutCards(data.results);\n\n    paginationState.page = data.page;\n    paginationState.perPage = data.perPage;\n    paginationState.totalPages = data.totalPages;\n    setPagination(paginationState);\n\n    return data;\n  } catch (err) {\n    throw err;\n  }\n}\n\nfunction setWorkoutCards(set) {\n  const cards = document.querySelector('.exercises-workout__cards');\n  cards.innerHTML = '';\n  const fragment = document.createDocumentFragment();\n\n  for (let item of set) {\n    const card = document.createElement('li');\n    card.classList.add('exercises__workout-card');\n    card.dataset.data = JSON.stringify(item);\n\n    const badge = document.createElement('p');\n    badge.className = 'exercises__workout-badge';\n    badge.textContent = 'WORKOUT';\n\n    const grade = document.createElement('div');\n    grade.className = 'exercises__workout-grade';\n    const gradeValue = document.createElement('p');\n    gradeValue.className = 'exercises__workout-grade-value';\n    gradeValue.textContent = item.rating;\n    const gradeStar = document.createElement('img');\n    gradeStar.className = 'exercises__workout-grade-star';\n    gradeStar.src = starUrl;\n    gradeStar.alt = 'Star icon';\n    grade.appendChild(gradeValue);\n    grade.appendChild(gradeStar);\n\n    const start = document.createElement('div');\n    start.className = 'exercises__workout-start';\n    const startText = document.createElement('p');\n    startText.className = 'exercises__workout-start-text';\n    startText.textContent = 'Start';\n    const startArrow = document.createElement('img');\n    startArrow.className = 'exercises__workout-start-arrow';\n    startArrow.src = startArrowUrl;\n    startArrow.alt = 'Arrow icon';\n    start.appendChild(startText);\n    start.appendChild(startArrow);\n\n    const header = document.createElement('div');\n    header.className = 'exercises__workout-header';\n    const headerImg = document.createElement('img');\n    headerImg.className = 'exercises__workout-header-img';\n    headerImg.src = runDarkUrl;\n    headerImg.alt = 'Run icon';\n    const headerName = document.createElement('h3');\n    headerName.className = 'exercises__workout-header-name';\n    headerName.textContent =\n      item.name[0].toUpperCase() + (item.name.slice ? item.name.slice(1) : '');\n    header.appendChild(headerImg);\n    header.appendChild(headerName);\n\n    const info = document.createElement('div');\n    info.className = 'exercises__workout-info';\n    const calories = document.createElement('p');\n    calories.className = 'exercises__workout-info-calories';\n    calories.textContent = `Burned calories: ${item.burnedCalories}/${item.time}`;\n    const bodyPart = document.createElement('p');\n    bodyPart.className = 'exercises__workout-info-body-part';\n    bodyPart.textContent =\n      'Body part: ' +\n      (item.bodyPart\n        ? item.bodyPart[0].toUpperCase() + item.bodyPart.slice(1)\n        : '');\n    const target = document.createElement('p');\n    target.className = 'exercises__workout-info-target';\n    target.textContent =\n      'Target: ' +\n      (item.target ? item.target[0].toUpperCase() + item.target.slice(1) : '');\n    info.appendChild(calories);\n    info.appendChild(bodyPart);\n    info.appendChild(target);\n\n    card.appendChild(badge);\n    card.appendChild(grade);\n    card.appendChild(start);\n    card.appendChild(header);\n    card.appendChild(info);\n\n    fragment.appendChild(card);\n  }\n\n  cards.appendChild(fragment);\n}\n\nfunction onExercisesCardClick(event) {\n  const card = event.target.closest('.exercises__card');\n  if (event.target.closest('.exercises__card')) {\n    const search = document.querySelector('.exercises__search-input');\n    search.value = '';\n\n    setWorkoutCardsAndGetResponse(card.dataset.name);\n    currentCard = card.dataset.name;\n    toggleExercisesSection();\n  }\n}\n\nfunction toggleExercisesSection() {\n  const exercises = document.querySelector('.exercises__cards');\n  const workout = document.querySelector('.exercises-workout__cards');\n\n  exercises.hidden = !exercises.hidden;\n  workout.hidden = !workout.hidden;\n\n  currentExercisesPageState = !exercises.hidden ? 'filters' : 'workout';\n\n  const search = document.querySelector('.exercises__search');\n  search.hidden = !search.hidden;\n\n  if (currentExercisesPageState === 'workout') {\n    document\n      .querySelector('.exercises__header')\n      .style.setProperty('--after-content', `\" / ${currentCard}\"`);\n\n    document\n      .querySelector('.exercises__cards')\n      .removeEventListener('click', onExercisesCardClick);\n\n    document\n      .querySelector('.exercises-workout__cards')\n      .addEventListener('click', onWorkoutCardClick);\n  } else if (currentExercisesPageState === 'filters') {\n    document\n      .querySelector('.exercises__header')\n      .style.setProperty('--after-content', `\"\"`);\n\n    document\n      .querySelector('.exercises__cards')\n      .addEventListener('click', onExercisesCardClick);\n\n    document\n      .querySelector('.exercises-workout__cards')\n      .removeEventListener('click', onWorkoutCardClick);\n  } else {\n    throw new Error('Зламався currentExercisesPageState');\n  }\n}\n\nfunction onClosePopUpClick() {\n  const popUpWrapper = document.querySelector('.pop-up-wrapper');\n  popUpWrapper.hidden = true;\n\n  const popUp = document.querySelector('.pop-up');\n  popUp.dataset.currentExerciseData = '#';\n\n  if (window.innerWidth > 367) {\n    popUp.style.width = '191.77cqw';\n  }\n  if (window.innerWidth > 768) {\n    popUp.style.width = '49.17cqw';\n  }\n\n  const img = document.querySelector('.pop-up__img');\n  const h2 = document.querySelector('.pop-up__h2');\n  const grade = document.querySelector('.pop-up__grade-value');\n  const summary = document.querySelector('.pop-up__summary');\n\n  img.src = '';\n  h2.textContent = '';\n  grade.textContent = '';\n  summary.textContent = '';\n\n  popUp.removeEventListener('click', onPopUpClick);\n\n  const valueP = document.querySelector('.pop-up__grade-value');\n  valueP.textContent = '0.0';\n  valueP.dataset.value = 0;\n\n  const ratingStars = document.querySelectorAll('.pop-up__grade-star-rating');\n  ratingStars.forEach(star => {\n    star.src = starDarkUrl;\n  });\n}\n\nfunction onWorkoutCardClick(event) {\n  const main = document.querySelector('.pop-up__main-content-wrapper');\n  const rating = document.querySelector('.pop-up__rating');\n\n  main.hidden = false;\n  rating.hidden = true;\n\n  const target = event.target.closest('.exercises__workout-card');\n\n  if (!target) return;\n\n  renderPopUp(JSON.parse(target.dataset.data)._id);\n\n  const popUpWrapper = document.querySelector('.pop-up-wrapper');\n  popUpWrapper.hidden = false;\n  const popUp = document.querySelector('.pop-up');\n  popUp.dataset.currentExerciseData = target.dataset.data;\n\n  popUp.addEventListener('click', onPopUpClick);\n}\n\nasync function renderPopUp(id) {\n  const url = 'https://your-energy.b.goit.study/api/exercises/' + id;\n  const response = await fetch(url);\n\n  if (!response.ok) {\n    throw new Error('Помилка');\n  }\n\n  const data = await response.json();\n\n  const img = document.querySelector('.pop-up__img');\n  const h2 = document.querySelector('.pop-up__h2');\n  const grade = document.querySelector('.pop-up__grade-value');\n  const stars = document.querySelectorAll('.pop-up__grade-star');\n  const metrics = document.querySelectorAll('.pop-up__metrics-p');\n  const summary = document.querySelector('.pop-up__summary');\n\n  img.src = data.gifUrl;\n  h2.textContent = data.name[0].toUpperCase() + data.name.substring(1);\n  grade.textContent = data.rating;\n  summary.textContent = data.description;\n\n  stars.forEach((star, index) => {\n    if (index + 1 > Math.ceil(data.rating)) {\n      star.src = starDarkUrl;\n    }\n  });\n\n  metrics.forEach(item => {\n    const text = String(data[item.dataset.key]);\n\n    if (item.dataset.key === 'burnedCalories') {\n      item.textContent = `${data.burnedCalories}/${data.time} min`;\n      return;\n    }\n\n    item.textContent = text[0].toUpperCase() + text.substring(1);\n  });\n}\n\nfunction onPopUpClick(event) {\n  if (event.target.closest('.pop-up__close-btn')) {\n    onClosePopUpClick();\n  } else if (event.target.closest('.pop-up__btn-rating')) {\n    openRatingForm();\n\n    const email = document.querySelector('.pop-up__rating-email');\n    const text = document.querySelector('.pop-up__rating-text');\n\n    text.style.borderColor = 'var(--main-color-leight)';\n    email.style.borderColor = 'var(--main-color-leight)';\n  } else if (event.target.closest('.pop-up__grade-star-rating')) {\n    setRatingValue(event.target.dataset.starKey);\n  } else if (event.target.closest('.pop-up__rating-btn')) {\n    event.preventDefault();\n    sendRatingForm();\n  } else if (event.target.closest('.pop-up__btn-fav')) {\n    event.preventDefault();\n    addToFavorites();\n  }\n}\n\nfunction addToFavorites() {\n  const popUp = document.querySelector('.pop-up');\n  let list = JSON.parse(localStorage.getItem('favorites')) || [];\n\n  let data = popUp.dataset.currentExerciseData;\n\n  if (!list.includes(data)) {\n    list.push(data);\n    localStorage.setItem('favorites', JSON.stringify(list));\n  }\n}\n\nasync function sendRatingForm() {\n  const popUp = document.querySelector('.pop-up');\n  const email = document.querySelector('.pop-up__rating-email');\n  const text = document.querySelector('.pop-up__rating-text');\n  const gradeVal = document.querySelector('.pop-up__rating-grade-value');\n\n  if (!email.checkValidity() || !text.value) {\n    text.style.borderColor = 'red';\n    email.style.borderColor = 'red';\n    return;\n  }\n\n  const body = {\n    rate: Number(gradeVal.dataset.value),\n    email: email.value.trim(),\n    review: text.value.trim(),\n  };\n\n  try {\n    const response = await fetch(\n      `https://your-energy.b.goit.study/api/exercises/${JSON.parse(popUp.dataset.currentExerciseData)._id}/rating`,\n      {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      }\n    );\n\n    if (!response.ok) throw new Error('Халепа');\n\n    text.style.borderColor = 'green';\n    email.style.borderColor = 'green';\n    text.value = '';\n    email.value = '';\n  } catch (err) {\n    throw err;\n  }\n}\n\nfunction openRatingForm() {\n  const main = document.querySelector('.pop-up__main-content-wrapper');\n  const rating = document.querySelector('.pop-up__rating');\n\n  main.hidden = true;\n  rating.hidden = false;\n\n  const valueP = document.querySelector('.pop-up__rating-grade-value');\n  valueP.textContent = '0.0';\n  valueP.dataset.value = 0;\n\n  const popUp = document.querySelector('.pop-up');\n  if (window.innerWidth > 367) {\n    popUp.style.width = '55.99cqw';\n  }\n  if (window.innerWidth > 768) {\n    popUp.style.width = '29.86cqw';\n  }\n}\n\nfunction setRatingValue(starKey) {\n  const valueP = document.querySelector('.pop-up__rating-grade-value');\n  valueP.textContent = starKey + `.0`;\n  valueP.dataset.value = Number(starKey);\n\n  const stars = document.querySelectorAll('.pop-up__grade-star-rating');\n  stars.forEach((star, index) => {\n    if (index < Number(starKey)) {\n      star.src = starUrl;\n    } else {\n      star.src = starDarkUrl;\n    }\n  });\n}\n\nfunction onSearch() {\n  setWorkoutCardsAndGetResponse(currentCard);\n}\n\nfunction setSavedExercises() {\n  const saved = document.querySelector('.favorites-saved');\n  const list = JSON.parse(localStorage.getItem('favorites'));\n\n  if (list.length === 0) return;\n\n  saved.innerHTML = '';\n  const fragment = document.createDocumentFragment();\n\n  for (let item of list) {\n    item = JSON.parse(item);\n\n    const card = document.createElement('li');\n    card.classList.add('favorites__card');\n    card.dataset.data = JSON.stringify(item);\n\n    const badge = document.createElement('p');\n    badge.className = 'exercises__workout-badge';\n    badge.textContent = 'WORKOUT';\n\n    const remove = document.createElement('img');\n    remove.src = 'img/remove-from-fav.svg';\n    remove.className = 'favorites__remove';\n\n    const start = document.createElement('div');\n    start.className = 'exercises__workout-start';\n    const startText = document.createElement('p');\n    startText.className = 'exercises__workout-start-text';\n    startText.textContent = 'Start';\n    const startArrow = document.createElement('img');\n    startArrow.className = 'exercises__workout-start-arrow';\n    startArrow.src = startArrowUrl;\n    startArrow.alt = 'Arrow icon';\n    start.appendChild(startText);\n    start.appendChild(startArrow);\n\n    const header = document.createElement('div');\n    header.className = 'exercises__workout-header';\n    const headerImg = document.createElement('img');\n    headerImg.className = 'exercises__workout-header-img';\n    headerImg.src = runDarkUrl;\n    headerImg.alt = 'Run icon';\n    const headerName = document.createElement('h3');\n    headerName.className = 'exercises__workout-header-name';\n    headerName.textContent =\n      item.name[0].toUpperCase() + (item.name.slice ? item.name.slice(1) : '');\n    header.appendChild(headerImg);\n    header.appendChild(headerName);\n\n    const info = document.createElement('div');\n    info.className = 'exercises__workout-info';\n    const calories = document.createElement('p');\n    calories.className = 'exercises__workout-info-calories';\n    calories.textContent = `Burned calories: ${item.burnedCalories}/${item.time}`;\n    const bodyPart = document.createElement('p');\n    bodyPart.className = 'exercises__workout-info-body-part';\n    bodyPart.textContent =\n      'Body part: ' +\n      (item.bodyPart\n        ? item.bodyPart[0].toUpperCase() + item.bodyPart.slice(1)\n        : '');\n    const target = document.createElement('p');\n    target.className = 'exercises__workout-info-target';\n    target.textContent =\n      'Target: ' +\n      (item.target ? item.target[0].toUpperCase() + item.target.slice(1) : '');\n    info.appendChild(calories);\n    info.appendChild(bodyPart);\n    info.appendChild(target);\n\n    card.appendChild(badge);\n    card.appendChild(remove);\n    card.appendChild(start);\n    card.appendChild(header);\n    card.appendChild(info);\n\n    fragment.appendChild(card);\n  }\n\n  saved.appendChild(fragment);\n}\n\nfunction onSavedClick(event) {\n  if (event.target.closest('.favorites__remove')) {\n    const item = event.target.closest('.favorites__card').dataset.data;\n    const list = JSON.parse(localStorage.getItem('favorites'));\n\n    let i = list.indexOf(item);\n    list.splice(i, 1);\n\n    localStorage.setItem('favorites', JSON.stringify(list));\n\n    setSavedExercises();\n\n    if (list.length === 0) {\n      const saved = document.querySelector('.favorites-saved');\n      saved.innerHTML = '';\n\n      const p = document.createElement('p');\n      p.className = 'favorites-saved__p';\n      p.textContent =\n        \"It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.\";\n\n      saved.appendChild(p);\n    }\n  }\n}\n\n// GLOBALS\n\n// зберігає кількість карток для exercises\nlet cardsLimit = 12;\n\n// Зберігає поточний стан пагінації\nconst paginationState = {\n  totalPages: 1,\n  page: 1,\n  perPage: cardsLimit,\n};\n\n// показує, яка секція зараз показується в exercises\n// значення: filters, workout\nlet currentExercisesPageState = 'filters';\n\n// Зберігає поточний стан глобального фільтру\n// значення: Muscles, Equipment, Body%20 parts\nconst activeFilterEl = document.querySelector('.exercises__filter--active');\nlet currentFilter = activeFilterEl ? activeFilterEl.dataset.filter : 'Muscles';\n\n// зберігає значення name вибраної картки\nlet currentCard = null;\n\n// EXECUTION\n\nconst mobMenuBtn = document.querySelector('.header__menu-btn');\nconst closeMenuBtn = document.querySelector('.mobile-menu__close-btn');\n// Only add mobile menu handler if mobile menu button exists\nif (mobMenuBtn && closeMenuBtn) {\n  if (window.innerWidth <= 367) {\n    mobMenuBtn.addEventListener('click', mobMenuOpenHandler);\n    cardsLimit = 9;\n  }\n}\n\nsetQuote();\n\n// Initialize exercises-related UI only when exercises elements exist on the page\nconst exercisesCardsEl = document.querySelector('.exercises__cards');\nif (exercisesCardsEl) {\n  setExercisesCardsAndGetResponse(cardsLimit);\n\n  document.querySelectorAll('.exercises__filters').forEach(element => {\n    element.addEventListener('click', handleFilterClick);\n  });\n\n  exercisesCardsEl.addEventListener('click', onExercisesCardClick);\n\n  const paginationBtns = document.querySelector('.exercises__pagination-btns');\n  if (paginationBtns)\n    paginationBtns.addEventListener('click', onPaginationClick);\n\n  const searchInput = document.querySelector('.exercises__search-input');\n  if (searchInput) searchInput.addEventListener('search', onSearch);\n}\n\nconst footerSubscribe = document.querySelector('.footer__subscribe');\nif (footerSubscribe) {\n  footerSubscribe.addEventListener('submit', event => {\n    event.preventDefault();\n\n    const emailInput = document.querySelector('.footer__subscribe-email');\n    if (emailInput && emailInput.value) {\n      subscribe(emailInput.value);\n    }\n    if (emailInput) emailInput.value = '';\n  });\n}\n\n// FAVORITES PAGE\n\nconst saved = document.querySelector('.favorites-saved');\nif (saved) {\n  setSavedExercises();\n\n  saved.addEventListener('click', onSavedClick);\n}\n"],"names":["starUrl","startArrowUrl","runDarkUrl","starDarkUrl","handleFetchResponse","response","getToday","setQuote","quoteText","quoteAuthor","today","quoteObj","raw","data","newQuote","setExercisesCardsAndGetResponse","limit","filter","page","cards","fragment","item","card","h3","p","paginationState","setPagination","openMobMenu","mobMenuBtn","mobMenuOpenHandler","closeMenuBtn","closeMobMenu","menu","mobMenuCloseHandler","handleFilterClick","event","target","currentFilter","currentExercisesPageState","toggleExercisesSection","cardsLimit","subscribe","validAddress","totalPages","btns","container","startPage","endPage","leftDoubleArrow","leftMonoArrow","leftDots","i","btn","rightDots","rightMonoArrow","rightDoubleArrow","onPaginationClick","handlePagination","pagValue","setWorkoutCardsAndGetResponse","currentCard","name","keyword","url","params","setWorkoutCards","err","set","badge","grade","gradeValue","gradeStar","start","startText","startArrow","header","headerImg","headerName","info","calories","bodyPart","onExercisesCardClick","search","exercises","workout","onWorkoutCardClick","onClosePopUpClick","popUpWrapper","popUp","img","h2","summary","onPopUpClick","valueP","star","main","rating","renderPopUp","id","stars","metrics","index","text","openRatingForm","email","setRatingValue","sendRatingForm","addToFavorites","list","gradeVal","body","starKey","onSearch","setSavedExercises","saved","remove","onSavedClick","activeFilterEl","exercisesCardsEl","element","paginationBtns","searchInput","footerSubscribe","emailInput"],"mappings":"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"}