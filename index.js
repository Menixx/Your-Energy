/* empty css                      */(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function c(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=c(n);fetch(n.href,s)}})();function T(e){if(!e.ok)throw new Error("Халепа");return e.json()}function R(){return new Date().toISOString().slice(0,10)}async function W(){const e=document.querySelector(".aside__quote-text"),r=document.querySelector(".aside__quote-author"),c=R();let t=null;try{const n=localStorage.getItem("quote");t=n?JSON.parse(n):null}catch{t=null}if(t&&t.date===c){e.textContent=t.text,r.textContent=t.author;return}try{const n=await fetch("https://your-energy.b.goit.study/api/quote"),s=await T(n);if(s){e.textContent=s.quote,r.textContent=s.author;const o={text:s.quote,author:s.author,date:c};try{localStorage.setItem("quote",JSON.stringify(o))}catch{}return}t&&(e.textContent=t.text,r.textContent=t.author)}catch{t&&(e.textContent=t.text,r.textContent=t.author)}}async function E(e=12,r="Muscles",c=1){try{const t=await fetch(`https://your-energy.b.goit.study/api/filters?limit=${e}&filter=${r}&page=${c}`);if(!t.ok)throw new Error("Server error");const n=await t.json(),s=document.querySelector(".exercises__cards");s.innerHTML="";const o=document.createDocumentFragment();for(let a of n.results){const d=document.createElement("li");d.classList.add("exercises__card"),d.style.setProperty("--bg-img",`url(${a.imgURL})`),d.dataset.name=a.name,d.dataset.filter=a.filter;const l=document.createElement("h3");l.classList.add("exercises__card-name"),l.textContent=a.name[0].toUpperCase()+a.name.substring(1),d.appendChild(l);const u=document.createElement("p");u.classList.add("exercises__card-filter"),u.textContent=a.filter,d.appendChild(u),o.appendChild(d)}return s.appendChild(o),i.page=n.page,i.perPage=n.perPage,i.totalPages=n.totalPages,k(i),n}catch{console.log("Халепа")}}function $(e){e.removeEventListener("click",U),D.addEventListener("click",v);const r=document.querySelector(".mobile-menu-wrapper");r.hidden=!r.hidden}function v(){console.log(close),D.removeEventListener("click",j),P.addEventListener("click",v);const e=document.querySelector(".mobile-menu-wrapper");e.hidden=!e.hidden}function U(){$(P)}function j(){v()}function F(e){const r=e.target;r.dataset.filter!==m&&(m=r.dataset.filter,document.querySelector(".exercises__filter--active").classList.toggle("exercises__filter--active"),r.classList.toggle("exercises__filter--active")),g==="workout"&&O(),E(h,m,1)}async function J(e){try{const r=await fetch("https://your-energy.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(r.status===409){console.log("Ви вже підписані!");return}if(!r.ok)throw new Error("Server error");const c=await r.json();console.log(c.message)}catch{console.log("Помилка зʼєднання з сервером")}}function k({totalPages:e,page:r}){let c=document.querySelector(".exercises__pagination-btns");const t=document.createDocumentFragment();if(c.innerHTML="",e<2)return;r=Number(r);let n,s;if(e<=3?(n=1,s=e):r<=2?(n=1,s=3):r>=e-1?(n=e-2,s=e):(n=r-1,s=r+1),e>3){const o=document.createElement("button"),a=document.createElement("button");o.textContent="«",o.type="button",o.dataset.pagValue="dlt",o.classList.add("exercises__pagination-btn"),o.classList.add("exercises__pagination-arrow-btn"),a.textContent="‹",a.type="button",a.dataset.pagValue="lt",a.classList.add("exercises__pagination-btn"),a.classList.add("exercises__pagination-arrow-btn"),t.appendChild(o),t.appendChild(a)}if(n>1){const o=document.createElement("div");o.textContent="...",o.classList.add("exercises__pagination-btn"),t.append(o)}for(let o=n;o<=s;o++){const a=document.createElement("button");a.textContent=o,a.type="button",a.dataset.pagValue=o,a.classList.add("exercises__pagination-btn"),o===r&&a.classList.add("exercises__pagination-btn--active"),t.append(a)}if(s<e){const o=document.createElement("div");o.textContent="...",o.classList.add("exercises__pagination-btn"),t.append(o)}if(e>3){const o=document.createElement("button"),a=document.createElement("button");a.textContent="»",a.type="button",a.dataset.pagValue="drt",a.classList.add("exercises__pagination-btn"),a.classList.add("exercises__pagination-arrow-btn"),o.textContent="›",o.type="button",o.dataset.pagValue="rt",o.classList.add("exercises__pagination-btn"),o.classList.add("exercises__pagination-arrow-btn"),t.appendChild(o),t.appendChild(a)}c.appendChild(t)}function H(e){I(e.target.dataset.pagValue)}function I(e){Number(e)?i.page=Number(e):e==="dlt"?i.page=1:e==="lt"&&i.page-1>=1?i.page-=1:e==="rt"&&i.page+1<=i.totalPages?i.page+=1:e==="drt"&&(i.page=i.totalPages),g==="filters"?E(i.perPage,m,i.page):g==="workout"&&L(x,i.perPage,i.page),k(i)}async function L(e,r=12,c=1){const t=document.querySelector(".exercises__search-input").value.trim().toLowerCase(),n=new URL("https://your-energy.b.goit.study/api/exercises"),s={page:c,limit:r,...m==="Muscles"&&{muscles:e},...m==="Equipment"&&{equipment:e},...m==="Body%20parts"&&{bodypart:e},keyword:t};n.search=new URLSearchParams(s).toString();try{const a=await(await fetch(n.toString())).json();return B(a.results),i.page=a.page,i.perPage=a.perPage,i.totalPages=a.totalPages,k(i),a}catch(o){throw o}}function B(e){const r=document.querySelector(".exercises-workout__cards");r.innerHTML="";const c=document.createDocumentFragment();for(let t of e){const n=document.createElement("li");n.classList.add("exercises__workout-card"),n.dataset.data=JSON.stringify(t);const s=document.createElement("p");s.className="exercises__workout-badge",s.textContent="WORKOUT";const o=document.createElement("div");o.className="exercises__workout-grade";const a=document.createElement("p");a.className="exercises__workout-grade-value",a.textContent=t.rating;const d=document.createElement("img");d.className="exercises__workout-grade-star",d.src="img/star.svg",d.alt="Star icon",o.appendChild(a),o.appendChild(d);const l=document.createElement("div");l.className="exercises__workout-start";const u=document.createElement("p");u.className="exercises__workout-start-text",u.textContent="Start";const p=document.createElement("img");p.className="exercises__workout-start-arrow",p.src="img/start-arrow.svg",p.alt="Arrow icon",l.appendChild(u),l.appendChild(p);const f=document.createElement("div");f.className="exercises__workout-header";const y=document.createElement("img");y.className="exercises__workout-header-img",y.src="img/run-dark.png",y.alt="Run icon";const w=document.createElement("h3");w.className="exercises__workout-header-name",w.textContent=t.name[0].toUpperCase()+(t.name.slice?t.name.slice(1):""),f.appendChild(y),f.appendChild(w);const _=document.createElement("div");_.className="exercises__workout-info";const C=document.createElement("p");C.className="exercises__workout-info-calories",C.textContent=`Burned calories: ${t.burnedCalories}/${t.time}`;const S=document.createElement("p");S.className="exercises__workout-info-body-part",S.textContent="Body part: "+(t.bodyPart?t.bodyPart[0].toUpperCase()+t.bodyPart.slice(1):"");const b=document.createElement("p");b.className="exercises__workout-info-target",b.textContent="Target: "+(t.target?t.target[0].toUpperCase()+t.target.slice(1):""),_.appendChild(C),_.appendChild(S),_.appendChild(b),n.appendChild(s),n.appendChild(o),n.appendChild(l),n.appendChild(f),n.appendChild(_),c.appendChild(n)}r.appendChild(c)}function q(e){const r=e.target.closest(".exercises__card");if(e.target.closest(".exercises__card")){const c=document.querySelector(".exercises__search-input");c.value="",L(r.dataset.name),x=r.dataset.name,O()}}function O(){const e=document.querySelector(".exercises__cards"),r=document.querySelector(".exercises-workout__cards");e.hidden=!e.hidden,r.hidden=!r.hidden,g=e.hidden?"workout":"filters";const c=document.querySelector(".exercises__search");if(c.hidden=!c.hidden,g==="workout")document.querySelector(".exercises__header").style.setProperty("--after-content",`" / ${x}"`),document.querySelector(".exercises__cards").removeEventListener("click",q),document.querySelector(".exercises-workout__cards").addEventListener("click",N);else if(g==="filters")document.querySelector(".exercises__header").style.setProperty("--after-content",'""'),document.querySelector(".exercises__cards").addEventListener("click",q),document.querySelector(".exercises-workout__cards").removeEventListener("click",N);else throw new Error("Зламався currentExercisesPageState")}function V(){const e=document.querySelector(".pop-up-wrapper");e.hidden=!0;const r=document.querySelector(".pop-up");r.dataset.currentExerciseData="#",window.innerWidth>367&&(r.style.width="191.77cqw"),window.innerWidth>768&&(r.style.width="49.17cqw");const c=document.querySelector(".pop-up__img"),t=document.querySelector(".pop-up__h2"),n=document.querySelector(".pop-up__grade-value"),s=document.querySelector(".pop-up__summary");c.src="",t.textContent="",n.textContent="",s.textContent="",r.removeEventListener("click",M);const o=document.querySelector(".pop-up__grade-value");o.textContent="0.0",o.dataset.value=0,document.querySelectorAll(".pop-up__grade-star-rating").forEach(d=>{d.src="img/Star-dark.png"})}function N(e){const r=document.querySelector(".pop-up__main-content-wrapper"),c=document.querySelector(".pop-up__rating");r.hidden=!1,c.hidden=!0;const t=e.target.closest(".exercises__workout-card");if(!t)return;G(JSON.parse(t.dataset.data)._id);const n=document.querySelector(".pop-up-wrapper");n.hidden=!1;const s=document.querySelector(".pop-up");s.dataset.currentExerciseData=t.dataset.data,s.addEventListener("click",M)}async function G(e){const r="https://your-energy.b.goit.study/api/exercises/"+e,c=await fetch(r);if(!c.ok)throw new Error("Помилка");const t=await c.json(),n=document.querySelector(".pop-up__img"),s=document.querySelector(".pop-up__h2"),o=document.querySelector(".pop-up__grade-value"),a=document.querySelectorAll(".pop-up__grade-star"),d=document.querySelectorAll(".pop-up__metrics-p"),l=document.querySelector(".pop-up__summary");n.src=t.gifUrl,s.textContent=t.name[0].toUpperCase()+t.name.substring(1),o.textContent=t.rating,l.textContent=t.description,a.forEach((u,p)=>{p+1>Math.ceil(t.rating)&&(u.src="img/Star-dark.png")}),d.forEach(u=>{const p=String(t[u.dataset.key]);if(u.dataset.key==="burnedCalories"){u.textContent=`${t.burnedCalories}/${t.time} min`;return}u.textContent=p[0].toUpperCase()+p.substring(1)})}function M(e){if(e.target.closest(".pop-up__close-btn"))V();else if(e.target.closest(".pop-up__btn-rating")){K();const r=document.querySelector(".pop-up__rating-email"),c=document.querySelector(".pop-up__rating-text");c.style.borderColor="var(--main-color-leight)",r.style.borderColor="var(--main-color-leight)"}else e.target.closest(".pop-up__grade-star-rating")?z(e.target.dataset.starKey):e.target.closest(".pop-up__rating-btn")&&(e.preventDefault(),Q())}async function Q(){const e=document.querySelector(".pop-up"),r=document.querySelector(".pop-up__rating-email"),c=document.querySelector(".pop-up__rating-text"),t=document.querySelector(".pop-up__rating-grade-value");if(!r.checkValidity()||!c.value){c.style.borderColor="red",r.style.borderColor="red";return}const n={rate:Number(t.dataset.value),email:r.value.trim(),review:c.value.trim()};try{const s=await fetch(`https://your-energy.b.goit.study/api/exercises/${JSON.parse(e.dataset.currentExerciseData)._id}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Халепа");const o=await s.json()}catch(s){throw s}}function K(){const e=document.querySelector(".pop-up__main-content-wrapper"),r=document.querySelector(".pop-up__rating");e.hidden=!0,r.hidden=!1;const c=document.querySelector(".pop-up__rating-grade-value");c.textContent="0.0",c.dataset.value=0;const t=document.querySelector(".pop-up");window.innerWidth>367&&(t.style.width="55.99cqw"),window.innerWidth>768&&(t.style.width="29.86cqw")}function z(e){const r=document.querySelector(".pop-up__rating-grade-value");r.textContent=e+".0",r.dataset.value=Number(e),document.querySelectorAll(".pop-up__grade-star-rating").forEach((t,n)=>{n<Number(e)?t.src="img/star.svg":t.src="img/Star-dark.png"})}function A(){L(x)}let h=12;const i={totalPages:1,page:1,perPage:h};let g="filters",m=document.querySelector(".exercises__filter--active").dataset.filter,x=null;const P=document.querySelector(".header__menu-btn"),D=document.querySelector(".mobile-menu__close-btn");window.innerWidth<=367&&(P.addEventListener("click",U),h=9);W();E(h);document.querySelectorAll(".exercises__filters").forEach(e=>{e.addEventListener("click",F)});document.querySelector(".exercises__cards").addEventListener("click",q);document.querySelector(".footer__subscribe").addEventListener("submit",e=>{e.preventDefault();const r=document.querySelector(".footer__subscribe-email");r.value&&J(r.value),r.value=""});document.querySelector(".exercises__pagination-btns").addEventListener("click",H);document.querySelector(".exercises__search-input").addEventListener("search",A);document.querySelector(".exercises__search-input").addEventListener("search",A);
//# sourceMappingURL=index.js.map
